<!--  
  Author: Brandon Evangelista
  Class: CST 336 â€“ Internet Programming
  Date: 12/18/2025
  Assignment: Final Project
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudySmart â€“ Flashcards</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>

    <%- include('../partials/header') %>

<h2 class="flashcards-title">Flashcards</h2>

<div class="study-btn-wrapper">
  <a href="/subjects/<%= subjectId %>/flashcards/study" class="btn btn-primary study-btn">
    ğŸ“š Study Mode
  </a>
</div>



<a href="/flashcards/new">
   Add Flashcard
</a>


<table border="1" cellpadding="6">
  <tr>
    <th>Term</th>
    <th>Difficulty</th>
    <!-- REMOVED: Important column -->
    <th>Learned</th>
    <th>Actions</th>
  </tr>

  <% flashcards.forEach(card => { %>
    <tr>
      <td><%= card.term %></td>
      <td><%= card.difficulty %></td>

      <!-- REMOVED: Important cell -->

      <td>
        <form action="/flashcards/<%= card.card_id %>/toggle-learned" method="post">

          <input type="hidden" name="subject_id" value="<%= subjectId %>">

          <input
            type="checkbox"
            name="is_learned"
            value="1"
            <%= card.is_learned ? 'checked' : '' %>
            onchange="this.form.submit()"
          >
        </form>
      </td>

      <td>
        <a href="/flashcards/<%= card.card_id %>/edit">âœ Edit</a>

        <form
          action="/flashcards/<%= card.card_id %>/delete"
          method="post"
          style="display:inline;"
        >
          <input type="hidden" name="subject_id" value="<%= subjectId %>">
          <button type="submit">ğŸ—‘ Delete</button>
        </form>
      </td>
    </tr>
  <% }) %>
</table>


<br>
<a href="/subjects">â¬… Back to Subjects</a>

<%- include('../partials/footer') %>


</body>
</html>
