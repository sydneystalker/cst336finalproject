<!--  
  Author: Brandon Evangelista
  Class: CST 336 ‚Äì Internet Programming
  Date: 12/18/2025
  Assignment: Final Project
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudySmart ‚Äì Flashcards</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>

    <%- include('../partials/header') %>

<h2 class="flashcards-title">Flashcards</h2>

<div class="study-btn-wrapper">
  <a href="/subjects/<%= subjectId %>/flashcards/study" class="btn btn-primary study-btn">
    üìö Study Mode
  </a>
</div>



<a href="/flashcards/new">
   Add Flashcard
</a>

<table border="1" cellpadding="6">
  <tr>
    <th>Term</th>
    <th>Difficulty</th>
    <th>Important</th>
    <th>Learned</th>
    <th>Actions</th>
  </tr>

  <% flashcards.forEach(card => { %>
    <tr>
      <td><%= card.term %></td>

      <!-- Difficulty shown as stars -->
      <td>
        <% if (card.difficulty === 'easy') { %>‚≠ê
        <% } else if (card.difficulty === 'medium') { %>‚≠ê‚≠ê
        <% } else { %>‚≠ê‚≠ê‚≠ê
        <% } %>
      </td>

      <!-- IMPORTANT COLUMN -->
     <td style="text-align:center;">
    <span class="important-flag">
    <%= card.is_starred ? '‚ö†Ô∏è' : '' %>
     </span>
    </td>

      <!-- LEARNED CHECKBOX -->
      <td style="text-align:center;">
        <form action="/flashcards/<%= card.card_id %>/update" method="post">
          <input type="hidden" name="subject_id" value="<%= subjectId %>">

          <input
            type="checkbox"
            name="is_learned"
            value="1"
            <%= card.is_learned ? 'checked' : '' %>
            onchange="this.form.submit()"
          >
        </form>
      </td>

      <!-- ACTIONS -->
      <td>
        <a href="/flashcards/<%= card.card_id %>/edit">‚úè Edit</a>

        <form
          action="/flashcards/<%= card.card_id %>/delete"
          method="post"
          style="display:inline;"
        >
          <input type="hidden" name="subject_id" value="<%= subjectId %>">
          <button type="submit">üóë Delete</button>
        </form>
      </td>
    </tr>
  <% }) %>
</table>



<br>
<a href="/subjects">‚¨Ö Back to Subjects</a>

<%- include('../partials/footer') %>


</body>
</html>
